<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.meiliwan.emall.tongji.task.dao.pms.ProBrandDao">
    <resultMap id="BaseResultMap" type="com.meiliwan.emall.pms.bean.ProBrand">
        <id column="brand_id" property="brandId" jdbcType="INTEGER"/>
        <result column="name" property="name" jdbcType="VARCHAR"/>
        <result column="en_name" property="enName" jdbcType="VARCHAR"/>
        <result column="other_name" property="otherName" jdbcType="VARCHAR"/>
        <result column="brand_uri" property="brandUri" jdbcType="VARCHAR"/>
        <result column="descp" property="descp" jdbcType="VARCHAR"/>
        <result column="logo_uri" property="logoUri" jdbcType="VARCHAR"/>
        <result column="first_char" property="firstChar" jdbcType="CHAR"/>
        <result column="state" property="state" jdbcType="TINYINT"/>
        <result column="category_id" property="categoryId" jdbcType="INTEGER"/>
    </resultMap>
    <sql id="Base_Column_List">
    brand_id, name, en_name, other_name, brand_uri, descp, logo_uri, first_char,category_id
  </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer">
        select
        <include refid="Base_Column_List"/>
        from pro_brand
        where brand_id = #{brandId,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from pro_brand
    where brand_id = #{brandId,jdbcType=INTEGER}
  </delete>
    <insert id="insert" parameterType="com.meiliwan.emall.pms.bean.ProBrand">
    insert into pro_brand (brand_id, name, en_name, 
      other_name, brand_uri, descp, 
      logo_uri, first_char,state,category_id)
    values (#{brandId,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{enName,jdbcType=VARCHAR}, 
      #{otherName,jdbcType=VARCHAR}, #{brandUri,jdbcType=VARCHAR}, #{descp,jdbcType=VARCHAR}, 
      #{logoUri,jdbcType=VARCHAR}, #{firstChar,jdbcType=CHAR},#{state,jdbcType=TINYINT},#{categoryId,jdbcType=INTEGER})
  </insert>
    <insert id="insertSelective" parameterType="com.meiliwan.emall.pms.bean.ProBrand" useGeneratedKeys="true" keyProperty="id">
        insert into pro_brand
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="brandId != null">
                brand_id,
            </if>
            <if test="name != null">
                name,
            </if>
            <if test="enName != null">
                en_name,
            </if>
            <if test="otherName != null">
                other_name,
            </if>
            <if test="brandUri != null">
                brand_uri,
            </if>
            <if test="descp != null">
                descp,
            </if>
            <if test="logoUri != null">
                logo_uri,
            </if>
            <if test="firstChar != null">
                first_char,
            </if>
			<if test="state != null">
                state,
            </if>
			<if test="categoryId != null">
                category_id,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="brandId != null">
                #{brandId,jdbcType=INTEGER},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="enName != null">
                #{enName,jdbcType=VARCHAR},
            </if>
            <if test="otherName != null">
                #{otherName,jdbcType=VARCHAR},
            </if>
            <if test="brandUri != null">
                #{brandUri,jdbcType=VARCHAR},
            </if>
            <if test="descp != null">
                #{descp,jdbcType=VARCHAR},
            </if>
            <if test="logoUri != null">
                #{logoUri,jdbcType=VARCHAR},
            </if>
            <if test="firstChar != null">
                #{firstChar,jdbcType=CHAR},
            </if>
			 <if test="state != null">
                #{state,jdbcType=TINYINT},
            </if>
			 <if test="categoryId != null">
                #{categoryId,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.meiliwan.emall.pms.bean.ProBrand">
        update pro_brand
        <set>
            <if test="name != null">
                name = #{name,jdbcType=VARCHAR},
            </if>
            <if test="enName != null">
                en_name = #{enName,jdbcType=VARCHAR},
            </if>
            <if test="otherName != null">
                other_name = #{otherName,jdbcType=VARCHAR},
            </if>
            <if test="brandUri != null">
                brand_uri = #{brandUri,jdbcType=VARCHAR},
            </if>
            <if test="descp != null">
                descp = #{descp,jdbcType=VARCHAR},
            </if>
            <if test="logoUri != null">
                logo_uri = #{logoUri,jdbcType=VARCHAR},
            </if>
            <if test="firstChar != null">
                first_char = #{firstChar,jdbcType=CHAR},
            </if>
            <if test="state != null">
                state = #{state,jdbcType=TINYINT},
            </if>
            <if test="categoryId != null">
                category_id = #{categoryId,jdbcType=INTEGER},
            </if>
        </set>
        where brand_id = #{brandId,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.meiliwan.emall.pms.bean.ProBrand">
    update pro_brand
    set name = #{name,jdbcType=VARCHAR},
      en_name = #{enName,jdbcType=VARCHAR},
      other_name = #{otherName,jdbcType=VARCHAR},
      brand_uri = #{brandUri,jdbcType=VARCHAR},
      descp = #{descp,jdbcType=VARCHAR},
      logo_uri = #{logoUri,jdbcType=VARCHAR},
      first_char = #{firstChar,jdbcType=CHAR},
	  state = #{state,jdbcType=TINYINT},
	  category_id = #{categoryId,jdbcType=INTEGER}
    where brand_id = #{brandId,jdbcType=INTEGER}
  </update>

    <!-- 下边是需要手动配置 自定义 查询条件 -->
    <sql id="selectCondition">
        <where>
            <trim suffixOverrides="and">
                <if test="entity != null">
                    <if test="entity.brandId!=null and entity.id &gt;0">
                        and brand_id=#{entity.brandId,jdbcType=INTEGER}
                    </if>
                    <if test="entity.state!=null">
                        and state=#{entity.state,jdbcType=TINYINT}
                    </if>
                </if>
            </trim>
            <trim suffixOverrides="and">
                <if test="whereSql!=null">
                    and ${whereSql}
                </if>
            </trim>
        </where>
    </sql>

    <!-- get pages by pageInfo -->
    <select id="getListByEntityAndPageInfo" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from pro_brand
        <include refid="selectCondition"/>
        <if test="orderBy!=null">
            ${orderBy}
        </if>
        <if test="pageInfo!=null">
            limit ${pageInfo.startIndex} ,${pageInfo.pagesize}
        </if>
    </select>

    <!-- 查询总数 -->
    <select id="getTotalByEntity"
            resultType="java.lang.Integer">
        select count(*) from pro_brand
        <include refid="selectCondition"/>
    </select>
</mapper>