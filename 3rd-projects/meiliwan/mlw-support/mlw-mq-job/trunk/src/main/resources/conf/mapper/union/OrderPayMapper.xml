<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.meiliwan.emall.dao.union.OrderPayDao" >
  <resultMap id="UnionPayMap" type="com.meiliwan.emall.bean.union.OrderPay" >
    <result column="order_id" property="OrderId" jdbcType="VARCHAR" />
    <result column="pay_status" property="PayStatus" jdbcType="INTEGER" />
    <result column="pay_code" property="PayMethod" jdbcType="VARCHAR" />
    <result column="order_status" property="OrderStatus" jdbcType="INTEGER" />
    <result column="ret_status" property="OrderStatus" jdbcType="INTEGER" />
    <result column="old_order_id" property="OrderId" jdbcType="VARCHAR" />
  </resultMap>
  
  
    <select id="getAllList" resultMap="UnionPayMap">
      select o.order_id,o.order_status,op.pay_code,op.pay_status from oms_ord o left join oms_ord_pay op on o.order_id=op.order_id where o.order_id in
      <trim prefix="(" suffix=")" >
      	<if test="orderByIdList != null">
      		${orderByIdList}
      	</if>
      </trim>
        order by o.create_time desc
    </select>
    
     <select id="getReOrderList" resultMap="UnionPayMap">
      select ret_status,old_order_id from oms_retord where old_order_id in
      <trim prefix="(" suffix=")" >
      	<if test="orderByIdList != null">
      		${orderByIdList}
      	</if>
      </trim>
        order by o.create_time desc
    </select>
</mapper>